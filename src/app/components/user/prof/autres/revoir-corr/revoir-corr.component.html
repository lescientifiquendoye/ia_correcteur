<div *ngFor="let reponse of reponses; index as i" 
     class="rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow bg-gray-50 p-6 mb-6 border border-gray-200">
  
  <div class="text-center mb-4">
    <h2 class="text-2xl font-bold text-gray-800">{{ reponse.prenom }} {{ reponse.nom }}</h2>
    <p class="text-gray-600 text-sm">Évaluation : <span class="font-medium">{{ reponse.titre }}</span></p>
  </div>

  <div class="flex items-center justify-center">
    <span class="px-3 py-1 bg-blue-100 text-blue-600 text-sm font-semibold rounded-full">
      Note : {{ reponse.note }}
    </span>
  </div>

  <div  class="mt-6 p-4 bg-white rounded-md shadow-sm">
    <p class="flex items-center justify-center underline mb-6 font-semibold text-gray-700 mb-1">Evaluation</p>
   
    <div class="grid grid-cols-2 gap-2">
      <p class="text-gray-600"><span class="font-medium">Nom :</span> {{ reponse.nom }}</p>
      <p class="text-gray-600"><span class="font-medium">Classe :</span> {{ reponse.classe }}</p>
    </div>

    <div class="mt-6 bg-blue-600 p-3">
        <h3 class="text-lg font-semibold text-gray-800">📝 Réponses aux questions</h3>
        <div *ngFor="let rep of reponse.reponses_questions; index as j" class="bg-gray-100 p-4 rounded-lg my-3">
          <p class="text-gray-800"><strong>❓ Question :</strong> {{ rep.question }}</p>
          <p class="text-gray-700"><strong>✅ Réponse :</strong> {{ rep.reponse }}</p>
          <p class="text-gray-700"><strong>📏 Barème :</strong> {{ rep.bareme }}</p>
          <p class="text-gray-700"><strong>🏆 Note obtenue :</strong> 
            <span class="text-green-600 font-bold">{{ rep.note }}/{{ rep.bareme }}</span>        
          
          </p>  
          <form [formGroup]="modifiRepForm" (ngSubmit)="onSubmit(reponse.reponses_questions,rep.id)">
          <div class="mt-3 flex justify-center items-center space-x-2">
          <input type="number" formControlName="newNote"  min="0" max="{{ rep.bareme }}" step="0.1"
                 class="p-2 border border-gray-300 rounded-md w-24 focus:ring focus:ring-blue-300">
          <!-- (click)="updateNote(rep.newNote,rep.id)  []="reponses[i].reponses_questions[j].newNote"-->
          <button type="submit"  
                  class="px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all">
            Envoyer
          </button>
        </div>
         </form>
        </div>
      </div>

  </div>

